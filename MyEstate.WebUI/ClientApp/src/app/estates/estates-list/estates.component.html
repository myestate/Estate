<div class="container">
  
</div>


<div class="container mt-2">
  <form id="mainSearchForm" class="m-3 p-2 bg-light rounded" #form="ngForm" (ngSubmit)="loadEstatesToPage()" novalidate>
    <div class="row mb-3">
      <div class="col-md-3">
        <select class="form-control" id="type" name="type" [(ngModel)]="estateParams.type">
          <option value="Selling">Selling</option>
          <option value="Rent">Rent</option>
          <option value="Daily rent">Daily rent</option>
          <option value="All">All</option>
        </select>
      </div>
      <div class="col-md-3">
        <input type="text" class="form-control" placeholder="Country" id="country" name="country"  [(ngModel)]="estateParams.country" />
      </div>
      <div class="col-md-3">
        <input type="text" class="form-control" placeholder="City" id="city" name="city" [(ngModel)]="estateParams.city"/>
      </div>
      <div class="col-md-3">
        <input type="text" class="form-control" placeholder="Street" id="street" name="street" [(ngModel)]="estateParams.street"/>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-3">
        <h4 class="mb-1 text-center">Price</h4>
        <input type="text" class="form-control mb-1" placeholder="From" id="minPrice" name="minPrice" [(ngModel)]="estateParams.minPrice"/>
        <input type="text" class="form-control" placeholder="To" id="maxPrice" name="maxPrice" [(ngModel)]="estateParams.maxPrice"/>
      </div>
      <div class="col-md-3">
        <h4 class="mb-1 text-center">Floors</h4>
        <input type="text" class="form-control mb-1" placeholder="From" id="minFloors" name="minFloors" [(ngModel)]="estateParams.minFloors"/>
        <input type="text" class="form-control" placeholder="To" id="maxFloors" name="maxFloors" [(ngModel)]="estateParams.maxFloors"/>
      </div>
      <div class="col-md-3">
        <h4 class="mb-1 text-center">Rooms</h4>
        <input type="text" class="form-control mb-1" placeholder="From" id="minRooms" name="minRooms" [(ngModel)]="estateParams.minRooms"/>
        <input type="text" class="form-control" placeholder="To" id="maxRooms" name="maxRooms" [(ngModel)]="estateParams.maxRooms"/>
      </div>
      <div class="col-md-3">
        <h4 class="mb-1 text-center">Square</h4>
        <input type="text" class="form-control mb-1" placeholder="From" id="minSquare" name="minSquare" [(ngModel)]="estateParams.minSquare"/>
        <input type="text" class="form-control" placeholder="To" id="maxSquare" name="maxSquare" [(ngModel)]="estateParams.maxSquare"/>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md-3">
        <h4 class="mb-1 text-center">Order by</h4>
        <select class="form-control" id="orderBy" name="orderBy" [(ngModel)]="estateParams.orderBy">
          <option value="created">Created</option>
          <option value="priceUp">Price up</option>
          <option value="priceDown">Price down</option>
          <option value="squareUp">Square up</option>
          <option value="squareDown">Square down</option>
          <option value="roomsUp">Rooms up</option>
          <option value="roomsDown">Rooms down</option>
        </select>
      </div>
      <div class="col-md-3">
        <button type="submit" class="btn btn-primary mr-2">Apply Filters</button>
        <button type="button" class="btn bg-secondary" (click)="resetFilters()">Reset Filter</button>
      </div>
    </div>
  </form>


  <hr/>
  <div class="text mt-2">
    <h5>Found {{pagination.totalItems}} estates</h5>
  </div>
  <br>
  <div class="row mb-3" >
    <div class="col-md-6 mb-3" *ngFor="let estate of estates">
      <app-estate-card [estate]="estate"></app-estate-card>
    </div>
  </div>
</div>

<div class="d-flex justify-content-center">
  <pagination [boundaryLinks]="true"
              [totalItems]="pagination.totalItems"
              [itemsPerPage]="pagination.itemsPerPage"
              [(ngModel)]="pagination.currentPage"
              (pageChanged)="pageChanged($event)"
              previousText="&lsaquo;" nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;">

  </pagination>
</div>
